# Задача 1.2: Создание базовых утилит и сервисов

## Подготовка
- Внимательно изучи документы `bizlevel-concept-updated.md` и `status.md` для полного понимания архитектуры проекта и текущего статуса разработки.
- Ознакомься с реализацией проекта из задачи 1.1.

## Описание задачи
Требуется разработать базовые утилиты и сервисы, которые будут использоваться во всем приложении. Это включает централизованный обработчик ошибок, сервис для логирования, сервис проверки сетевого подключения и другие вспомогательные классы.

Шаги:
1. Создать централизованный `ErrorHandler` для обработки и форматирования ошибок приложения:
   - Разработать систему классификации ошибок
   - Создать механизм форматирования дружественных сообщений для пользователя
   - Реализовать единый интерфейс для обработки исключений
   
2. Реализовать сервис логирования `Logger`:
   - Создать абстракцию для логирования с разными уровнями (info, warning, error)
   - Реализовать вывод логов в консоль для отладки
   - Подготовить интеграцию с Firebase Analytics (без реализации)

3. Разработать сервис `ConnectivityService` для проверки доступности сети:
   - Реализовать проверку наличия подключения к интернету
   - Создать механизм отслеживания изменений в подключении
   - Подготовить обработку офлайн-режима

4. Создать вспомогательные утилиты:
   - `DateTimeUtils` для работы с датами и временем
   - `ValidationUtils` для валидации данных
   - `StringUtils` для операций с текстом

## Технические требования
- Следуй принципам чистой архитектуры с разделением слоев
- Используй Riverpod для предоставления сервисов через провайдеры
- Обеспечь тестируемость сервисов через инъекцию зависимостей
- Реализуй классы `ErrorHandler` и `ConnectivityService` как синглтоны через Riverpod
- Обработчик ошибок должен поддерживать классификацию по типам: сетевые, аутентификация, доступ к данным, бизнес-логика
- Избегай непосредственных зависимостей от конкретных реализаций (используй абстракции)

## Связи с другими задачами
- **Зависит от:** Задача 1.1 (Инициализация проекта и установка зависимостей)
- **Влияет на:** Задачи 1.3, 1.4, 1.5, 2.1, 2.2 (все последующие задачи будут использовать созданные сервисы и утилиты)

## Критерии готовности
- Реализованы все перечисленные сервисы и утилиты
- Для каждого сервиса создан соответствующий провайдер Riverpod
- ErrorHandler корректно обрабатывает различные типы ошибок и генерирует понятные сообщения
- ConnectivityService правильно определяет состояние сетевого подключения
- Сервисы логирования корректно выводят информацию в консоль
- Утилиты содержат необходимые вспомогательные методы
- Код имеет достаточное документирование для понимания назначения методов

## Примечания
- При реализации ErrorHandler учитывай различные типы исключений Firebase и Flutter
- ConnectivityService должен работать как на веб-платформе, так и в мобильных приложениях
- Используй пакет connectivity_plus для проверки состояния сети (добавь его в зависимости)
- Следуй принципу единой ответственности: каждый класс должен решать одну задачу
- Для Logger рассмотри возможность интеграции с пакетом logger для более продвинутого форматирования

## Завершение
После выполнения задачи добавь в файл `status.md` запись о выполненной работе в следующем формате:

Задача 1.2: Создание базовых утилит и сервисов
* Статус: Выполнено
* Дата: [Текущая дата]
* Выполненные шаги:
    * Создан централизованный обработчик ошибок
    * Реализован сервис логирования
    * Добавлен сервис проверки подключения к сети
    * Разработаны вспомогательные утилиты
* Созданные файлы:
    * src/core/utils/error_handler.dart - обработчик ошибок
    * src/core/utils/logger.dart - сервис логирования
    * src/core/utils/connectivity.dart - сервис проверки подключения
    * src/core/utils/date_time_utils.dart - утилиты для работы с датами
    * src/core/utils/validation_utils.dart - утилиты для валидации
    * src/core/utils/string_utils.dart - утилиты для работы со строками
* Проблемы и решения:
    * [Если были проблемы, описание проблем и их решений]