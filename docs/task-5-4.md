# Задача 5.4: Создание UI профиля пользователя

## Подготовка
- Внимательно изучи документы `bizlevel-concept-updated.md` и `status.md` для полного понимания архитектуры проекта и текущего статуса разработки.
- Ознакомься с реализацией из Фаз 1-4 и задач 5.1-5.3.
- Изучи систему тем и констант из задачи 1.3.

## Описание задачи
Требуется разработать экран профиля пользователя с отображением личной информации, данных о бизнесе, навыках и достижениях. Интерфейс должен быть интуитивно понятным, стильным и соответствовать общему геймифицированному подходу приложения.

Шаги:
1. Создать основной экран профиля в директории `src/features/profile/presentation/screens/`:
   - Разработать `ProfileScreen` с основным контейнером и структурой
   - Реализовать адаптивную верстку для корректного отображения на различных устройствах
   - Добавить элементы навигации между разделами профиля
   - Обеспечить интеграцию с системой тем приложения

2. Разработать компоненты для отображения основной информации в директории `src/features/profile/presentation/widgets/`:
   - Создать виджет `ProfileHeader` для отображения фото, имени и базовой информации
   - Реализовать виджет `BusinessInfoCard` для данных о бизнесе пользователя
   - Добавить виджет `UserStatsOverview` для отображения общей статистики обучения
   - Создать виджет `ProfileActionButtons` для основных действий с профилем

3. Реализовать секцию навыков:
   - Создать виджет `SkillsSection` как контейнер для отображения навыков
   - Разработать виджет `SkillListItem` для отображения отдельного навыка
   - Добавить виджет `SkillsFilter` для сортировки и фильтрации навыков
   - Реализовать виджет `SkillProgressBar` для визуализации уровня навыка

4. Создать секцию достижений:
   - Разработать виджет `AchievementsSection` как контейнер для отображения достижений
   - Создать виджет `AchievementCard` для отображения отдельного достижения
   - Добавить виджет `AchievementsFilter` для сортировки и фильтрации достижений
   - Реализовать виджет `LockedAchievementCard` для отображения недоступных достижений

5. Разработать экран редактирования профиля:
   - Создать `ProfileEditScreen` для редактирования личной информации
   - Реализовать виджет `BusinessInfoEditForm` для редактирования данных о бизнесе
   - Добавить валидацию вводимых данных
   - Обеспечить сохранение изменений и обработку ошибок

6. Создать контроллеры и провайдеры для управления UI:
   - Разработать `ProfileScreenController` для управления состоянием экрана
   - Создать провайдеры для взаимодействия с `ProfileRepository`, `SkillsManager` и `AchievementsSystem`
   - Реализовать логику загрузки и обработки данных профиля
   - Добавить обработку различных состояний UI (загрузка, ошибка, пустые данные)

## Технические требования
- Следуй принципам чистой архитектуры и MVVM паттерну
- Используй Riverpod для управления состоянием UI
- Реализуй адаптивный дизайн для корректной работы на различных устройствах
- Используй систему тем из задачи 1.3 для стилизации компонентов
- Обеспечь корректную обработку различных состояний (загрузка, ошибка, пустые данные)
- Реализуй анимации для переходов между разделами и обновления данных
- Обеспечь доступность UI (accessibility) для пользователей с ограниченными возможностями
- Используй кэширование данных для быстрой загрузки профиля
- Реализуй оптимизации производительности для отображения больших списков навыков и достижений

## Связи с другими задачами
- **Зависит от:** Задача 1.3 (Система темы), Задача 5.1 (ProfileRepository), Задача 5.2 (SkillsManager), Задача 5.3 (AchievementsSystem)
- **Влияет на:** Задача 5.5 (Разработка компонента визуализации навыков), Задача 5.6 (Тестирование и оптимизация профиля)

## Критерии готовности
- Создан полноценный экран профиля пользователя
- Реализовано отображение всех секций (личная информация, бизнес, навыки, достижения)
- Работает навигация между разделами профиля
- Реализован экран редактирования личной информации и данных бизнеса
- Интерфейс корректно адаптируется под различные размеры экрана
- Работает загрузка и отображение данных из репозитория
- Обеспечена корректная обработка ошибок и состояний загрузки
- Интерфейс соответствует общему стилю приложения
- Код имеет достаточное документирование

## Примечания
- Профиль является одним из ключевых элементов мотивации пользователя, поэтому уделите внимание визуальному представлению прогресса
- Используйте принципы геймификации для визуализации прогресса (уровни, шкалы, значки и т.д.)
- Обеспечьте возможность поделиться своими достижениями через стандартные механизмы платформы
- Рассмотрите возможность добавления "карточки профиля" для быстрого доступа из других частей приложения
- При проектировании секции достижений учитывайте неразблокированные достижения и их визуальное представление
- Для больших списков навыков и достижений используйте виртуализацию списков для оптимизации производительности
- Предусмотрите функциональность для создания скриншота профиля для легкого шеринга
- Рассмотрите возможность добавления сравнительной статистики (средние показатели по пользователям)

## Завершение
После выполнения задачи добавь в файл `status.md` запись о выполненной работе в следующем формате:

Задача 5.4: Создание UI профиля пользователя
* Статус: Выполнено
* Дата: [Текущая дата]
* Выполненные шаги:
    * Создан основной экран профиля пользователя
    * Разработаны компоненты для отображения личной информации и данных о бизнесе
    * Реализованы секции навыков и достижений
    * Добавлен экран редактирования профиля
    * Настроены контроллеры и провайдеры для управления UI
    * Реализована адаптивность для различных устройств
* Созданные файлы:
    * src/features/profile/presentation/screens/profile_screen.dart - основной экран профиля
    * src/features/profile/presentation/screens/profile_edit_screen.dart - экран редактирования
    * src/features/profile/presentation/widgets/profile_header.dart - шапка профиля
    * src/features/profile/presentation/widgets/business_info_card.dart - карточка бизнес-информации
    * src/features/profile/presentation/widgets/user_stats_overview.dart - обзор статистики
    * src/features/profile/presentation/widgets/skills_section.dart - секция навыков
    * src/features/profile/presentation/widgets/skill_list_item.dart - элемент списка навыков
    * src/features/profile/presentation/widgets/achievements_section.dart - секция достижений
    * src/features/profile/presentation/widgets/achievement_card.dart - карточка достижения
    * src/features/profile/presentation/controllers/profile_screen_controller.dart - контроллер экрана
    * src/features/profile/presentation/providers/profile_ui_providers.dart - провайдеры для UI
    * [Другие созданные файлы]
* Проблемы и решения:
    * [Если были проблемы, описание проблем и их решений]